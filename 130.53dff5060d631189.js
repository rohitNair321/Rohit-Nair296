"use strict";(self.webpackChunkportfolio_site=self.webpackChunkportfolio_site||[]).push([[130],{2130:(x,d,s)=>{s.r(d),s.d(d,{SettingsComponent:()=>C});var g=s(177),i=s(4341),m=s(6204),u=s(491),e=s(4438);function f(o,c){if(1&o&&(e.qex(0),e.nrm(1,"img",43),e.bVm()),2&o){const t=e.XpG();e.R7$(),e.Y8G("src",t.avatarDataUrl,e.B4B)}}function h(o,c){if(1&o&&(e.j41(0,"div",44),e.EFF(1),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.JRh(((null==(t=n.profileForm.get("name"))?null:t.value)||"U").charAt(0))}}function v(o,c){if(1&o&&(e.j41(0,"option",45),e.EFF(1),e.k0s()),2&o){const t=c.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function _(o,c){if(1&o&&e.nrm(0,"img",46),2&o){const t=e.XpG();e.Y8G("src",t.avatarDataUrl,e.B4B)}}function b(o,c){if(1&o&&(e.j41(0,"div",44),e.EFF(1),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.JRh(((null==(t=n.profileForm.get("name"))?null:t.value)||"U").charAt(0))}}let C=(()=>{class o{constructor(t){this.fb=t,this.avatarDataUrl=null,this.availableThemes=["theme-1","theme-2","theme-3","theme-4"],this.storageKey="portfolioAppSettings"}ngOnInit(){this.buildForm(),this.loadSettings()}buildForm(){this.profileForm=this.fb.group({name:["",i.k0.maxLength(80)],email:["",[i.k0.email]],bio:[""],theme:["theme-1"],darkMode:[!1],reduceMotion:[!1]})}loadSettings(){const t=localStorage.getItem(this.storageKey);if(t)try{const n=JSON.parse(t);this.avatarDataUrl=n.avatarDataUrl??null,this.profileForm.patchValue({name:n.name??"",email:n.email??"",bio:n.bio??"",theme:n.theme??"theme-1",darkMode:!!n.darkMode,reduceMotion:!!n.reduceMotion}),this.applyThemeClass(),this.applyReduceMotion()}catch{}else this.applyThemeClass()}saveSettings(){const t={...this.profileForm.value,avatarDataUrl:this.avatarDataUrl};localStorage.setItem(this.storageKey,JSON.stringify(t)),this.applyThemeClass(),this.applyReduceMotion(),alert("Settings saved")}resetDefaults(){confirm("Reset settings to defaults?")&&(this.avatarDataUrl=null,this.buildForm(),localStorage.removeItem(this.storageKey),this.applyThemeClass(),this.applyReduceMotion())}onAvatarChange(t){const n=t.target;if(!n.files?.length)return;const a=n.files[0],r=new FileReader;r.onload=()=>{this.avatarDataUrl=r.result},r.readAsDataURL(a)}removeAvatar(){this.avatarDataUrl=null}applyThemeClass(){const t=document.documentElement;Array.from(t.classList).filter(a=>a.startsWith("theme-")).forEach(a=>t.classList.remove(a));const n=this.profileForm.get("theme")?.value||"theme-1";t.classList.add(n),this.profileForm.get("darkMode")?.value?t.classList.add("dark-mode"):t.classList.remove("dark-mode")}applyReduceMotion(){this.profileForm.get("reduceMotion")?.value?document.documentElement.classList.add("reduce-motion"):document.documentElement.classList.remove("reduce-motion")}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(i.ok))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-settings"]],standalone:!0,features:[e.aNF],decls:74,vars:10,consts:[["initials",""],["pInit",""],[1,"settings-page",3,"formGroup"],[1,"settings-hero","card"],[1,"hero-left"],[1,"muted"],[1,"hero-actions"],["type","button",1,"btn","primary",3,"click"],["type","button",1,"btn","outline",3,"click"],[1,"settings-grid"],["aria-labelledby","profile-heading",1,"card","profile-card"],["id","profile-heading",1,"section-title"],[1,"profile-form"],["title","Upload avatar",1,"avatar-wrap"],["type","file","accept","image/*",3,"change"],[4,"ngIf","ngIfElse"],[1,"field"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Your name"],["for","email"],["id","email","type","email","formControlName","email","placeholder","you@domain.com"],["for","bio"],["id","bio","rows","4","formControlName","bio","placeholder","Short bio"],[1,"field","actions-row"],["type","button",1,"btn","soft",3,"click","disabled"],["aria-labelledby","app-settings-heading",1,"card","app-settings-card"],["id","app-settings-heading",1,"section-title"],["for","theme"],["id","theme","formControlName","theme",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"field","toggle-row"],["for","darkMode"],["id","darkMode","type","checkbox","formControlName","darkMode",3,"change"],["for","reduceMotion"],["id","reduceMotion","type","checkbox","formControlName","reduceMotion",3,"change"],[1,"preview-surface","card","small"],[1,"preview-header"],[1,"preview-avatar"],["alt","preview",3,"src",4,"ngIf","ngIfElse"],[1,"preview-name"],[1,"muted","preview-email"],[1,"muted","preview-bio"],[1,"settings-footer"],["alt","Avatar preview",3,"src"],[1,"avatar-initials"],[3,"value"],["alt","preview",3,"src"]],template:function(n,a){if(1&n){const r=e.RV6();e.j41(0,"section",2)(1,"header",3)(2,"div",4)(3,"h1"),e.EFF(4,"Settings"),e.k0s(),e.j41(5,"p",5),e.EFF(6,"Manage your profile and application preferences. Changes persist in your browser."),e.k0s()(),e.j41(7,"div",6)(8,"button",7),e.bIt("click",function(){return e.eBV(r),e.Njj(a.saveSettings())}),e.EFF(9,"Save"),e.k0s(),e.j41(10,"button",8),e.bIt("click",function(){return e.eBV(r),e.Njj(a.resetDefaults())}),e.EFF(11,"Reset"),e.k0s()()(),e.j41(12,"div",9)(13,"section",10)(14,"h2",11),e.EFF(15,"Profile"),e.k0s(),e.j41(16,"div",12)(17,"label",13)(18,"input",14),e.bIt("change",function(p){return e.eBV(r),e.Njj(a.onAvatarChange(p))}),e.k0s(),e.DNE(19,f,2,1,"ng-container",15)(20,h,2,1,"ng-template",null,0,e.C5r),e.k0s(),e.j41(22,"div",16)(23,"label",17),e.EFF(24,"Name"),e.k0s(),e.nrm(25,"input",18),e.k0s(),e.j41(26,"div",16)(27,"label",19),e.EFF(28,"Email"),e.k0s(),e.nrm(29,"input",20),e.k0s(),e.j41(30,"div",16)(31,"label",21),e.EFF(32,"Bio"),e.k0s(),e.nrm(33,"textarea",22),e.k0s(),e.j41(34,"div",23)(35,"button",24),e.bIt("click",function(){return e.eBV(r),e.Njj(a.removeAvatar())}),e.EFF(36,"Remove Avatar"),e.k0s(),e.j41(37,"small",5),e.EFF(38,"Avatar stored locally (base64)"),e.k0s()()()(),e.j41(39,"aside",25)(40,"h2",26),e.EFF(41,"Application"),e.k0s(),e.j41(42,"div",16)(43,"label",27),e.EFF(44,"Theme"),e.k0s(),e.j41(45,"select",28),e.bIt("change",function(){return e.eBV(r),e.Njj(a.applyThemeClass())}),e.DNE(46,v,2,2,"option",29),e.k0s()(),e.j41(47,"div",30)(48,"label",31),e.EFF(49,"Dark mode"),e.k0s(),e.j41(50,"input",32),e.bIt("change",function(){return e.eBV(r),e.Njj(a.applyThemeClass())}),e.k0s()(),e.j41(51,"div",30)(52,"label",33),e.EFF(53,"Reduce motion"),e.k0s(),e.j41(54,"input",34),e.bIt("change",function(){return e.eBV(r),e.Njj(a.applyReduceMotion())}),e.k0s()(),e.j41(55,"div",16)(56,"label"),e.EFF(57,"Preview"),e.k0s(),e.j41(58,"div",35)(59,"div",36)(60,"div",37),e.DNE(61,_,1,1,"img",38)(62,b,2,1,"ng-template",null,1,e.C5r),e.k0s(),e.j41(64,"div")(65,"div",39),e.EFF(66),e.k0s(),e.j41(67,"div",40),e.EFF(68),e.k0s()()(),e.j41(69,"p",41),e.EFF(70),e.k0s()()()()(),e.j41(71,"footer",42)(72,"div",5),e.EFF(73,"All changes saved locally. Use Reset to restore defaults."),e.k0s()()()}if(2&n){let r,l,p;const M=e.sdS(21),y=e.sdS(63);e.Y8G("formGroup",a.profileForm),e.R7$(19),e.Y8G("ngIf",a.avatarDataUrl)("ngIfElse",M),e.R7$(16),e.Y8G("disabled",!a.avatarDataUrl),e.R7$(11),e.Y8G("ngForOf",a.availableThemes),e.R7$(15),e.Y8G("ngIf",a.avatarDataUrl)("ngIfElse",y),e.R7$(5),e.JRh((null==(r=a.profileForm.get("name"))?null:r.value)||"Your name"),e.R7$(2),e.JRh((null==(l=a.profileForm.get("email"))?null:l.value)||"you@example.com"),e.R7$(2),e.JRh((null==(p=a.profileForm.get("bio"))?null:p.value)||"Short bio preview...")}},dependencies:[g.MD,g.Sq,g.bT,i.X1,i.xH,i.y7,i.me,i.Zm,i.wz,i.BC,i.cb,i.j4,i.JD,u.D,m.tm],styles:["[_ngcontent-%COMP%]:root{--card-gap: 14px}.settings-page[_ngcontent-%COMP%]{max-width:1100px;margin:20px auto;padding:clamp(12px,2.5vw,24px);display:flex;flex-direction:column;gap:var(--card-gap);color:var(--global-text-primary);font-family:var(--global-font-family)}.settings-hero[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--card-gap);padding:var(--global-spacing-md, 12px);background:var(--global-surface-color);border:1px solid var(--global-border-color);border-radius:var(--global-border-radius-md, 10px)}.settings-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:var(--global-primary-color);font-family:var(--global-heading-font)}.settings-hero[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:var(--global-text-secondary)}.settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 360px;gap:var(--card-gap)}.card[_ngcontent-%COMP%]{background:var(--global-surface-color);border-radius:var(--global-border-radius-md, 10px);border:1px solid var(--global-border-color);padding:var(--global-spacing-md, 14px);box-shadow:0 8px 24px #0000000a}.profile-form[_ngcontent-%COMP%]{display:grid;grid-template-columns:120px 1fr;gap:12px;align-items:start}.avatar-wrap[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:12px;overflow:hidden;display:grid;place-items:center;position:relative;cursor:pointer;background:var(--global-background-color);border:1px solid var(--global-border-color)}.avatar-wrap[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;opacity:0;cursor:pointer}.avatar-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.avatar-initials[_ngcontent-%COMP%]{font-weight:700;color:var(--global-primary-color);font-size:32px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;color:var(--global-text-secondary)}.field[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px 10px;border-radius:8px;border:1px solid var(--global-border-color);background:var(--global-background-color);color:var(--global-text-primary);font-size:.95rem}.field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.actions-row[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;justify-content:flex-start}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;border:1px solid transparent;cursor:pointer;font-weight:600}.btn.primary[_ngcontent-%COMP%]{background:var(--global-primary-color);color:var(--global-on-primary, #fff);border-color:color-mix(in srgb,var(--global-primary-color) 12%,var(--global-border-color))}.btn.soft[_ngcontent-%COMP%]{background:var(--global-surface-color);color:var(--global-text-primary);border-color:var(--global-border-color)}.btn.outline[_ngcontent-%COMP%]{background:transparent;color:var(--global-primary-color);border-color:var(--global-primary-color)}.toggle-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.preview-surface.small[_ngcontent-%COMP%]{padding:10px}.preview-header[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;margin-bottom:8px}.preview-avatar[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:8px;overflow:hidden;display:grid;place-items:center;background:var(--global-primary-light);border:1px solid var(--global-border-color)}.preview-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.settings-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:6px;color:var(--global-text-secondary)}.muted[_ngcontent-%COMP%]{color:var(--global-text-secondary);font-size:.92rem}@media (max-width: 980px){.settings-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 300px}.avatar-wrap[_ngcontent-%COMP%]{width:100px;height:100px}}@media (max-width: 720px){.settings-grid[_ngcontent-%COMP%], .profile-form[_ngcontent-%COMP%]{grid-template-columns:1fr}.avatar-wrap[_ngcontent-%COMP%]{width:120px;height:120px;margin:0 auto}.actions-row[_ngcontent-%COMP%]{justify-content:flex-start}.hero-actions[_ngcontent-%COMP%]{display:flex;gap:8px}}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:focus{outline:3px solid color-mix(in srgb,var(--global-primary-color) 12%,transparent);outline-offset:2px}.reduce-motion[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:none!important;animation:none!important}"]})}}return o})()}}]);